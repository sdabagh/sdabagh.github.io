<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Pre-Assessment for Module 1 - Measure your baseline algebra knowledge">
  <title>Module 1 Pre-Assessment ‚Äì College Algebra</title>
  <link rel="stylesheet" href="../../../style.css">
  <style>
    .assessment-intro {
      background: var(--info-light);
      border-left: 4px solid var(--info);
      padding: var(--spacing-lg);
      border-radius: var(--radius-md);
      margin-bottom: var(--spacing-xl);
    }

    .question-card {
      background: white;
      border: 2px solid var(--border-color);
      border-radius: var(--radius-lg);
      padding: var(--spacing-lg);
      margin-bottom: var(--spacing-lg);
    }

    .question-card h3 {
      color: var(--primary-dark);
      margin-top: 0;
      margin-bottom: var(--spacing-md);
    }

    .question-number {
      display: inline-block;
      background: var(--primary-color);
      color: white;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      text-align: center;
      line-height: 32px;
      font-weight: 700;
      margin-right: var(--spacing-sm);
    }

    .options {
      list-style: none;
      padding: 0;
      margin: var(--spacing-md) 0;
    }

    .options li {
      padding: var(--spacing-sm);
      margin-bottom: var(--spacing-xs);
      border: 2px solid var(--border-color);
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: flex-start;
      gap: var(--spacing-sm);
    }

    .options li:hover {
      border-color: var(--primary-color);
      background: var(--background-alt);
    }

    .options li.selected {
      border-color: var(--primary-color);
      background: var(--primary-color);
      color: white;
      font-weight: 500;
    }

    .options input[type="radio"] {
      margin-top: 0.25rem;
      cursor: pointer;
    }

    .submit-section {
      text-align: center;
      margin-top: var(--spacing-xl);
      padding-top: var(--spacing-lg);
      border-top: 2px solid var(--border-color);
    }

    #results {
      display: none;
      margin-top: var(--spacing-xl);
    }

    .result-summary {
      background: var(--success-light);
      border: 2px solid var(--success);
      border-radius: var(--radius-lg);
      padding: var(--spacing-lg);
      text-align: center;
      margin-bottom: var(--spacing-lg);
    }

    .result-summary h3 {
      color: var(--success);
      margin-top: 0;
    }

    .question-feedback {
      background: white;
      border: 2px solid var(--border-color);
      border-radius: var(--radius-md);
      padding: var(--spacing-md);
      margin-bottom: var(--spacing-md);
    }

    .question-feedback.correct {
      border-left: 4px solid var(--success);
      background: var(--success-light);
    }

    .question-feedback.incorrect {
      border-left: 4px solid var(--warning);
      background: #fff9e6;
    }

    .feedback-icon {
      font-size: 1.25rem;
      margin-right: var(--spacing-xs);
    }

    @media (max-width: 768px) {
      .question-number {
        width: 28px;
        height: 28px;
        line-height: 28px;
        font-size: 0.875rem;
      }
    }
  </style>
</head>
<body>

  <header>
    <div class="site-title">Safaa Dabagh</div>
    <nav>
      <a href="../../../index.html">Home</a>
      <a href="../../../about.html">About</a>
      <a href="../../../research.html">Research</a>
      <a href="../../../math54.html">Introductory Statistics</a>
      <a href="../../../math4.html" class="active">College Algebra for STEM Majors</a>
      <a href="../../../ai-education.html">AI Journey</a>
      <a href="../../../publications.html">Publications</a>
    </nav>
  </header>

  <main class="container">

    <a href="index.html" class="back-link">‚Üê Back to Module 1</a>

    <h1>Module 1 Pre-Assessment</h1>

    <div class="assessment-intro">
      <h3>üìù Before You Begin</h3>
      <p>
        This is a <strong>baseline assessment</strong> to see what you already know about functions and the coordinate plane. Don't worry about your score ‚Äì this isn't graded!
      </p>
      <p class="mt-2">
        <strong>Why take this?</strong> At the end of Module 1, you'll retake the same assessment and see how much you've learned. Students love seeing their progress!
      </p>
      <ul class="icon-list mt-2">
        <li><strong>5 questions</strong> - Takes about 5 minutes</li>
        <li><strong>Not graded</strong> - Just for your learning</li>
        <li><strong>No pressure</strong> - It's okay to guess!</li>
        <li><strong>Immediate feedback</strong> - See explanations after you submit</li>
      </ul>
      <p class="mt-2 text-muted" style="font-size: 0.875rem;">
        üí° <em>Your responses help us understand how this platform helps students learn. All data is anonymous and used only for educational purposes.</em>
      </p>
    </div>

    <form id="preAssessment">

      <!-- Question 1 -->
      <div class="question-card">
        <h3>
          <span class="question-number">1</span>
          Which category best describes the number <strong>-5/2</strong>?
        </h3>
        <ul class="options">
          <li>
            <input type="radio" name="q1" value="a" id="q1a">
            <label for="q1a">Natural number</label>
          </li>
          <li>
            <input type="radio" name="q1" value="b" id="q1b">
            <label for="q1b">Rational number</label>
          </li>
          <li>
            <input type="radio" name="q1" value="c" id="q1c">
            <label for="q1c">Irrational number</label>
          </li>
          <li>
            <input type="radio" name="q1" value="d" id="q1d">
            <label for="q1d">Whole number</label>
          </li>
        </ul>
      </div>

      <!-- Question 2 -->
      <div class="question-card">
        <h3>
          <span class="question-number">2</span>
          Which of the following relations is a <strong>function</strong>?
        </h3>
        <ul class="options">
          <li>
            <input type="radio" name="q2" value="a" id="q2a">
            <label for="q2a">{(1, 2), (1, 3), (2, 4)}</label>
          </li>
          <li>
            <input type="radio" name="q2" value="b" id="q2b">
            <label for="q2b">{(1, 2), (2, 3), (3, 4)}</label>
          </li>
          <li>
            <input type="radio" name="q2" value="c" id="q2c">
            <label for="q2c">{(1, 2), (2, 2), (1, 4)}</label>
          </li>
          <li>
            <input type="radio" name="q2" value="d" id="q2d">
            <label for="q2d">{(3, 5), (3, 6), (4, 7)}</label>
          </li>
        </ul>
      </div>

      <!-- Question 3 -->
      <div class="question-card">
        <h3>
          <span class="question-number">3</span>
          If f(x) = 2x - 1, what is the value of <strong>f(4)</strong>?
        </h3>
        <ul class="options">
          <li>
            <input type="radio" name="q3" value="a" id="q3a">
            <label for="q3a">3</label>
          </li>
          <li>
            <input type="radio" name="q3" value="b" id="q3b">
            <label for="q3b">8</label>
          </li>
          <li>
            <input type="radio" name="q3" value="c" id="q3c">
            <label for="q3c">7</label>
          </li>
          <li>
            <input type="radio" name="q3" value="d" id="q3d">
            <label for="q3d">9</label>
          </li>
        </ul>
      </div>

      <!-- Question 4 -->
      <div class="question-card">
        <h3>
          <span class="question-number">4</span>
          What is the domain of the function g(x) = 1/(x - 3)?
        </h3>
        <ul class="options">
          <li>
            <input type="radio" name="q4" value="a" id="q4a">
            <label for="q4a">All real numbers</label>
          </li>
          <li>
            <input type="radio" name="q4" value="b" id="q4b">
            <label for="q4b">All real numbers except x = 3</label>
          </li>
          <li>
            <input type="radio" name="q4" value="c" id="q4c">
            <label for="q4c">All real numbers except x = 1</label>
          </li>
          <li>
            <input type="radio" name="q4" value="d" id="q4d">
            <label for="q4d">Only positive real numbers</label>
          </li>
        </ul>
      </div>

      <!-- Question 5 -->
      <div class="question-card">
        <h3>
          <span class="question-number">5</span>
          The function f(x) = x¬≤ is shifted <strong>up 5 units</strong>. What is the new function?
        </h3>
        <ul class="options">
          <li>
            <input type="radio" name="q5" value="a" id="q5a">
            <label for="q5a">f(x) = (x + 5)¬≤</label>
          </li>
          <li>
            <input type="radio" name="q5" value="b" id="q5b">
            <label for="q5b">f(x) = x¬≤ - 5</label>
          </li>
          <li>
            <input type="radio" name="q5" value="c" id="q5c">
            <label for="q5c">f(x) = 5x¬≤</label>
          </li>
          <li>
            <input type="radio" name="q5" value="d" id="q5d">
            <label for="q5d">f(x) = x¬≤ + 5</label>
          </li>
        </ul>
      </div>

      <div class="submit-section">
        <button type="submit" class="btn btn-primary" style="font-size: 1.1rem; padding: 0.875rem 2rem;">
          Submit Pre-Assessment
        </button>
        <p class="text-muted mt-2" style="font-size: 0.875rem;">
          Remember: This is just to see where you're starting. No pressure!
        </p>
      </div>

    </form>

    <!-- Results Section (Hidden until submission) -->
    <div id="results">
      <div class="result-summary">
        <h3>üìä Your Baseline Results</h3>
        <p style="font-size: 1.25rem; font-weight: 600; margin: var(--spacing-md) 0;">
          You got <span id="score">0</span> out of 5 correct!
        </p>
        <p id="encouragement"></p>
      </div>

      <h3>Question Breakdown</h3>
      <div id="feedback-container"></div>

      <div class="highlight-box mt-3">
        <h3>What This Means</h3>
        <p>
          Your pre-assessment score shows your <strong>starting point</strong> ‚Äì not your potential! After completing Module 1, you'll retake this assessment and see your growth.
        </p>
        <p class="mt-2">
          Most students improve by <strong>2-3 questions</strong> or more. The real learning happens in the lessons!
        </p>
      </div>

      <div class="text-center mt-3 mb-3">
        <a href="lesson-01-real-numbers-coordinate-plane.html" class="btn btn-primary" style="font-size: 1.1rem; padding: 1rem 2rem;">
          Start Lesson 1 ‚Üí
        </a>
        <p class="text-muted mt-2">Let's learn College Algebra together!</p>
      </div>
    </div>

  </main>

  <footer>
    <div class="footer-links">
      <a href="../../../index.html">Home</a>
      <a href="../../../about.html">About</a>
      <a href="../../../research.html">Research</a>
      <a href="../../../publications.html">Publications</a>
      <a href="mailto:dabagh_safaa@smc.edu">Contact</a>
    </div>
    <p>&copy; 2025 Safaa Dabagh. All rights reserved.</p>
    <p class="text-muted">Free College Algebra Learning Platform ‚Ä¢ Santa Monica College College Algebra for STEM Majors</p>
  </footer>

  <script>
    // Correct answers
    const correctAnswers = {
      q1: 'b',
      q2: 'b',
      q3: 'c',
      q4: 'b',
      q5: 'd'
    };

    // Explanations for each question
    const explanations = {
      q1: {
        correct: "Correct! -5/2 is a rational number because it can be expressed as a fraction (ratio) of two integers. Rational numbers include all fractions, integers, and decimals that terminate or repeat.",
        incorrect: "Not quite. -5/2 is a rational number because it can be written as a ratio of two integers. Natural numbers are positive counting numbers (1, 2, 3...), whole numbers include 0, and irrational numbers cannot be written as fractions (like ‚àö2 or œÄ)."
      },
      q2: {
        correct: "Perfect! This is a function because each input (x-value) has exactly ONE output (y-value). Each x appears only once: 1‚Üí2, 2‚Üí3, 3‚Üí4.",
        incorrect: "Not quite. A function requires that each input has exactly ONE output. Options a, c, and d have repeated x-values (like x=1 appearing twice), which means one input has multiple outputs. That's not a function! The correct answer is {(1,2), (2,3), (3,4)}."
      },
      q3: {
        correct: "Excellent! To evaluate f(4), substitute 4 for x: f(4) = 2(4) - 1 = 8 - 1 = 7. Great work with function notation!",
        incorrect: "Not quite. To evaluate f(4), substitute 4 into the function: f(4) = 2(4) - 1 = 8 - 1 = 7. Remember to follow order of operations: multiply first, then subtract!"
      },
      q4: {
        correct: "Exactly right! The domain excludes x = 3 because that would make the denominator zero (3 - 3 = 0), and division by zero is undefined. All other real numbers work fine!",
        incorrect: "Remember, the domain is restricted where the denominator equals zero. Set x - 3 = 0, which gives x = 3. So the domain is all real numbers except x = 3."
      },
      q5: {
        correct: "Perfect! Vertical shifts are done by adding or subtracting OUTSIDE the function. Shifting up 5 units means adding 5: f(x) = x¬≤ + 5. Well done!",
        incorrect: "Vertical shifts happen outside the function. To shift UP 5 units, add 5 to the entire function: f(x) = x¬≤ + 5. Note: (x + 5)¬≤ would shift LEFT 5 units, and x¬≤ - 5 would shift DOWN 5 units."
      }
    };

    // Add click handlers to options for visual feedback
    document.querySelectorAll('.options li').forEach(li => {
      li.addEventListener('click', function() {
        // Remove selected class from all options in this question
        this.parentElement.querySelectorAll('li').forEach(option => {
          option.classList.remove('selected');
        });
        // Add selected class to clicked option
        this.classList.add('selected');
        // Check the radio button
        this.querySelector('input[type="radio"]').checked = true;
      });
    });

    // Handle form submission
    document.getElementById('preAssessment').addEventListener('submit', function(e) {
      e.preventDefault();

      // Check if all questions are answered
      let allAnswered = true;
      for (let i = 1; i <= 5; i++) {
        const questionName = `q${i}`;
        const selected = document.querySelector(`input[name="${questionName}"]:checked`);
        if (!selected) {
          allAnswered = false;
          break;
        }
      }

      if (!allAnswered) {
        alert('Please answer all questions before submitting!');
        return;
      }

      // Calculate score
      let score = 0;
      const feedbackHTML = [];

      for (let i = 1; i <= 5; i++) {
        const questionName = `q${i}`;
        const selected = document.querySelector(`input[name="${questionName}"]:checked`);
        const userAnswer = selected.value;
        const isCorrect = userAnswer === correctAnswers[questionName];

        if (isCorrect) score++;

        // Build feedback HTML
        const icon = isCorrect ? '‚úÖ' : '‚ö†Ô∏è';
        const feedbackClass = isCorrect ? 'correct' : 'incorrect';
        const explanation = isCorrect ? explanations[questionName].correct : explanations[questionName].incorrect;

        feedbackHTML.push(`
          <div class="question-feedback ${feedbackClass}">
            <p><strong><span class="feedback-icon">${icon}</span>Question ${i}</strong></p>
            <p>${explanation}</p>
          </div>
        `);
      }

      // Display results
      document.getElementById('score').textContent = score;
      document.getElementById('feedback-container').innerHTML = feedbackHTML.join('');

      // Encouragement message based on score
      let encouragement = '';
      if (score === 5) {
        encouragement = "Wow! You already have a strong foundation in algebra! The lessons will help you deepen and formalize this knowledge.";
      } else if (score >= 3) {
        encouragement = "Great start! You have some foundational knowledge. The lessons will build on what you know and fill in the gaps.";
      } else if (score >= 1) {
        encouragement = "You're beginning your algebra journey! Don't worry ‚Äì by the end of Module 1, these concepts will make much more sense.";
      } else {
        encouragement = "Perfect place to start! Algebra can seem confusing at first, but Module 1 will introduce you to all these concepts step by step.";
      }
      document.getElementById('encouragement').textContent = encouragement;

      // Show results, hide form
      document.getElementById('preAssessment').style.display = 'none';
      document.getElementById('results').style.display = 'block';

      // Scroll to results
      document.getElementById('results').scrollIntoView({ behavior: 'smooth', block: 'start' });

      // TODO: Send data to Firebase for research (when backend is implemented)
      console.log('Pre-assessment completed:', {
        moduleId: 'college-algebra-module-01',
        score: score,
        timestamp: new Date().toISOString(),
        answers: {
          q1: document.querySelector('input[name="q1"]:checked').value,
          q2: document.querySelector('input[name="q2"]:checked').value,
          q3: document.querySelector('input[name="q3"]:checked').value,
          q4: document.querySelector('input[name="q4"]:checked').value,
          q5: document.querySelector('input[name="q5"]:checked').value
        }
      });
    });
  </script>

</body>
</html>
