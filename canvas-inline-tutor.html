<!--
  SIMPLE CANVAS AI TUTOR - No CSP violations
  Extremely simplified to work within Canvas restrictions
-->

<div style="border: 3px solid #2C5F7C; max-width: 900px; margin: 20px auto; background: white; padding: 20px;">

<div style="background: #2C5F7C; color: white; padding: 20px; text-align: center; margin: -20px -20px 20px -20px;">
  <h2 style="margin: 0; color: white;">ğŸ¤– AI Statistics Tutor</h2>
  <p style="margin: 5px 0 0 0; color: white;">Click a topic below for help</p>
</div>

<div style="background: #FFF9E6; padding: 15px; text-align: center; margin-bottom: 20px;">
  <strong>Support Level:</strong> <span style="background: #FFB020; color: white; padding: 8px 15px; border-radius: 15px; font-weight: bold;">Interactive Help</span>
</div>

<p style="font-size: 16px; margin-bottom: 20px;"><strong>Click a topic to get AI tutoring help:</strong></p>

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">

  <button onclick="showHelp('mean')" style="background: #2C5F7C; color: white; padding: 15px; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; text-align: left;">
    ğŸ“Š Mean / Average
  </button>

  <button onclick="showHelp('median')" style="background: #2C5F7C; color: white; padding: 15px; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; text-align: left;">
    ğŸ“ Median
  </button>

  <button onclick="showHelp('mode')" style="background: #2C5F7C; color: white; padding: 15px; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; text-align: left;">
    ğŸ¯ Mode
  </button>

  <button onclick="showHelp('deviation')" style="background: #2C5F7C; color: white; padding: 15px; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; text-align: left;">
    ğŸ“ˆ Standard Deviation
  </button>

  <button onclick="showHelp('variance')" style="background: #2C5F7C; color: white; padding: 15px; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; text-align: left;">
    ğŸ“‰ Variance
  </button>

  <button onclick="showHelp('confidence')" style="background: #2C5F7C; color: white; padding: 15px; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; text-align: left;">
    ğŸ² Confidence Intervals
  </button>

  <button onclick="showHelp('hypothesis')" style="background: #2C5F7C; color: white; padding: 15px; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; text-align: left;">
    ğŸ”¬ Hypothesis Testing
  </button>

  <button onclick="showHelp('probability')" style="background: #2C5F7C; color: white; padding: 15px; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; text-align: left;">
    ğŸ° Probability
  </button>

  <button onclick="showHelp('correlation')" style="background: #2C5F7C; color: white; padding: 15px; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; text-align: left;">
    ğŸ”— Correlation
  </button>

  <button onclick="showHelp('sampling')" style="background: #2C5F7C; color: white; padding: 15px; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; text-align: left;">
    ğŸ‘¥ Sampling
  </button>

</div>

<div id="help-content" style="background: #E7F3FF; border: 2px solid #90CAF9; padding: 20px; border-radius: 10px; min-height: 200px; display: none;">
  <h3 id="help-title" style="margin-top: 0; color: #2C5F7C;">Select a topic above</h3>
  <div id="help-text"></div>
  <button onclick="document.getElementById('help-content').style.display='none'" style="background: #D97D54; color: white; padding: 10px 20px; border: none; border-radius: 5px; margin-top: 15px; cursor: pointer;">Close</button>
</div>

<p style="margin-top: 20px; font-size: 13px; color: #666;">
  ğŸ“Š <em>Research Note: Interactions help improve AI in education research.</em>
</p>

</div>

<script>
function showHelp(topic) {
  var content = document.getElementById('help-content');
  var title = document.getElementById('help-title');
  var text = document.getElementById('help-text');

  content.style.display = 'block';

  if (topic === 'mean') {
    title.textContent = 'ğŸ“Š How to Calculate the Mean';
    text.innerHTML = '<p><strong>The mean is the average of all values.</strong></p><p><strong>Steps:</strong></p><ol><li>Add up all the values</li><li>Count how many values you have</li><li>Divide the sum by the count</li></ol><p><strong>Example:</strong></p><p>Data: 4, 7, 9, 12, 18</p><p>Sum = 4 + 7 + 9 + 12 + 18 = 50<br>Count = 5<br>Mean = 50 Ã· 5 = <strong>10</strong></p><p><strong>ğŸ’¡ Tip:</strong> The mean can be affected by outliers (very high or low values)!</p>';
  }
  else if (topic === 'median') {
    title.textContent = 'ğŸ“ How to Find the Median';
    text.innerHTML = '<p><strong>The median is the middle value when data is sorted.</strong></p><p><strong>Steps:</strong></p><ol><li>Sort data from smallest to largest</li><li>If odd count: pick the middle number</li><li>If even count: average the two middle numbers</li></ol><p><strong>Example (odd count):</strong></p><p>Data: 3, 7, 8, 12, 15</p><p>Already sorted âœ“<br>Count = 5 (odd)<br>Middle = 3rd value = <strong>8</strong></p><p><strong>ğŸ’¡ Tip:</strong> Median is resistant to outliers - it represents the "typical" value better than mean when outliers exist!</p>';
  }
  else if (topic === 'mode') {
    title.textContent = 'ğŸ¯ How to Find the Mode';
    text.innerHTML = '<p><strong>The mode is the value that appears most frequently.</strong></p><p><strong>Steps:</strong></p><ol><li>Count how often each value appears</li><li>Find the value(s) with the highest frequency</li><li>If all values appear equally, there is no mode</li></ol><p><strong>Example:</strong></p><p>Data: 2, 3, 3, 5, 5, 5, 7, 9</p><p>2 appears 1 time<br>3 appears 2 times<br>5 appears 3 times â† Most frequent<br>7, 9 appear 1 time each</p><p>Mode = <strong>5</strong></p><p><strong>ğŸ’¡ Tip:</strong> A dataset can have no mode, one mode, or multiple modes!</p>';
  }
  else if (topic === 'deviation') {
    title.textContent = 'ğŸ“ˆ Standard Deviation';
    text.innerHTML = '<p><strong>Standard deviation measures how spread out data is from the mean.</strong></p><p><strong>Steps:</strong></p><ol><li>Find the mean</li><li>Subtract mean from each value (deviations)</li><li>Square each deviation</li><li>Average the squared deviations (variance)</li><li>Take the square root</li></ol><p><strong>Example:</strong></p><p>Data: 2, 4, 6, 8, 10</p><p>Mean = 6<br>Deviations: -4, -2, 0, 2, 4<br>Squared: 16, 4, 0, 4, 16<br>Variance = (16+4+0+4+16)/5 = 8<br>SD = âˆš8 = <strong>2.83</strong></p><p><strong>ğŸ’¡ Tip:</strong> Larger SD = more spread out data!</p>';
  }
  else if (topic === 'variance') {
    title.textContent = 'ğŸ“‰ Variance';
    text.innerHTML = '<p><strong>Variance measures the average squared distance from the mean.</strong></p><p><strong>Steps:</strong></p><ol><li>Find the mean</li><li>Subtract mean from each value</li><li>Square each deviation</li><li>Average all squared deviations</li></ol><p><strong>Example:</strong></p><p>Data: 1, 3, 5, 7, 9</p><p>Mean = 5<br>Deviations: -4, -2, 0, 2, 4<br>Squared: 16, 4, 0, 4, 16<br>Variance = (16+4+0+4+16)/5 = <strong>8</strong></p><p><strong>ğŸ’¡ Tip:</strong> Variance is in squared units. Standard deviation (âˆšvariance) is in original units!</p>';
  }
  else if (topic === 'confidence') {
    title.textContent = 'ğŸ² Confidence Intervals';
    text.innerHTML = '<p><strong>A confidence interval gives a range where the population parameter likely falls.</strong></p><p><strong>95% CI Formula:</strong></p><p>CI = xÌ„ Â± (z* Ã— SE)</p><p>Where:<br>â€¢ xÌ„ = sample mean<br>â€¢ z* = critical value (1.96 for 95%)<br>â€¢ SE = s/âˆšn (standard error)</p><p><strong>Example:</strong></p><p>n=36, xÌ„=78, s=12</p><p>SE = 12/âˆš36 = 2<br>ME = 1.96 Ã— 2 = 3.92<br>CI = 78 Â± 3.92 = <strong>(74.08, 81.92)</strong></p><p><strong>ğŸ’¡ Interpretation:</strong> We are 95% confident the true population mean is between 74.08 and 81.92.</p>';
  }
  else if (topic === 'hypothesis') {
    title.textContent = 'ğŸ”¬ Hypothesis Testing';
    text.innerHTML = '<p><strong>Hypothesis testing determines if sample data supports a claim about a population.</strong></p><p><strong>Steps:</strong></p><ol><li>State Hâ‚€ (null hypothesis) and Hâ‚ (alternative)</li><li>Choose significance level (Î±, usually 0.05)</li><li>Calculate test statistic</li><li>Find critical value or p-value</li><li>Make decision: Reject Hâ‚€ or Fail to reject</li></ol><p><strong>Example:</strong></p><p>Test if Î¼ > 65 (Î±=0.05)<br>Data: n=25, xÌ„=67, s=4</p><p>Hâ‚€: Î¼ = 65<br>Hâ‚: Î¼ > 65<br>t = (67-65)/(4/âˆš25) = 2.5<br>Critical value: t* = 1.711<br>2.5 > 1.711 â†’ <strong>Reject Hâ‚€</strong></p><p><strong>ğŸ’¡ Conclusion:</strong> Evidence supports Î¼ > 65</p>';
  }
  else if (topic === 'probability') {
    title.textContent = 'ğŸ° Probability';
    text.innerHTML = '<p><strong>Probability measures the chance of an event occurring.</strong></p><p><strong>Formula:</strong></p><p>P(event) = (Favorable outcomes) / (Total possible outcomes)</p><p><strong>Example:</strong></p><p>Rolling two dice, what is P(sum = 7)?</p><p>Total outcomes: 36<br>Favorable outcomes for sum=7:<br>(1,6), (2,5), (3,4), (4,3), (5,2), (6,1) = 6</p><p>P(sum=7) = 6/36 = 1/6 = <strong>0.167 or 16.7%</strong></p><p><strong>ğŸ’¡ Key Properties:</strong><br>â€¢ 0 â‰¤ P â‰¤ 1<br>â€¢ P = 0 means impossible<br>â€¢ P = 1 means certain</p>';
  }
  else if (topic === 'correlation') {
    title.textContent = 'ğŸ”— Correlation';
    text.innerHTML = '<p><strong>Correlation measures the strength and direction of a linear relationship between two variables.</strong></p><p><strong>Correlation coefficient (r):</strong><br>â€¢ Range: -1 to +1<br>â€¢ r near +1 = strong positive relationship<br>â€¢ r near -1 = strong negative relationship<br>â€¢ r near 0 = weak/no relationship</p><p><strong>Example:</strong></p><p>r = 0.85</p><p>Interpretation:<br>â€¢ 0.85 is close to +1<br>â€¢ <strong>Strong positive</strong> correlation<br>â€¢ As X increases, Y tends to increase<br>â€¢ rÂ² = 0.72 (72% of variation explained)</p><p><strong>âš ï¸ Important:</strong> Correlation â‰  Causation! Just because two variables are correlated doesn\'t mean one causes the other.</p>';
  }
  else if (topic === 'sampling') {
    title.textContent = 'ğŸ‘¥ Sampling';
    text.innerHTML = '<p><strong>Sampling is selecting a subset of a population to study.</strong></p><p><strong>Types of Sampling:</strong></p><ul><li><strong>Random:</strong> Every member has equal chance</li><li><strong>Stratified:</strong> Divide into groups, sample from each</li><li><strong>Cluster:</strong> Randomly select groups, survey all in selected groups</li><li><strong>Systematic:</strong> Every nth member</li></ul><p><strong>Example:</strong></p><p>Population: 1,000 students<br>Sample: 100 randomly selected</p><p>Why sample?<br>â€¢ Too expensive/time-consuming to survey all<br>â€¢ Random sample is representative<br>â€¢ Can infer population characteristics</p><p><strong>ğŸ’¡ Key:</strong> Random selection prevents bias!</p>';
  }

  content.scrollIntoView({behavior: 'smooth', block: 'nearest'});
}
</script>
